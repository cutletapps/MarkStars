{"version":3,"sources":["components/InteractiveParticles/disc.png","components/InteractiveParticles/StarMap.js","components/Webcam/Webcam.js","components/InteractiveParticles/io/camera.js","components/InteractiveParticles/objects/particles.js","components/InteractiveParticles/shaders/simulationShaders.js","components/InteractiveParticles/shaders/shaders.js","components/InteractiveParticles/io/controls.js","components/InteractiveParticles/io/renderer.js","components/InteractiveParticles/io/stats.js","components/InteractiveParticles/objects/scene.js","components/InteractiveParticles/helpers/getParameterByName.js","components/InteractiveParticles/IntParts.js","components/InteractiveParticles/helpers/isNotMobileScreen.js","components/InteractiveParticles/helpers/showInfoBox.js","components/Visualizer/Visualizer.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Component","Camera","fov","aspectRatio","window","innerHeight","innerWidth","near","far","position","x","y","z","up","this","camera","THREE","setPosition","setLookAt","WIDTH","HEIGHT","aspect","updateProjectionMatrix","set","setX","setY","setZ","lookAt","SHAPES","CIRCLE","SQUARE","Particles","scene","numParticles","uniforms","sizeMultipler","value","devicePixelRatio","color","blending","renderer","transparent","depthTest","depthWrite","mouseRadius","mousePush","particleSize","particleSizeInc","particleShape","xSpeed","ySpeed","yThreshold","windowHalfX","windowHalfY","video","document","createElement","navigator","getUserMedia","width","height","stream","srcObject","autoplay","addParticles","err","console","error","getElementById","innerHTML","FBO","simulationShader","material","isCircle","event","mouseX","clientX","mouseY","clientY","mouse","IMAGE_RATIO","COL_RATIO","ROW_RATIO","cols","rows","tWidth","Math","ceil","tHeight","get","type","tParams","simulationVertexShader","simulationFragmentShader","updateParticleParams","videoImage","videoImageContext","getContext","videoTexture","minFilter","magFilter","needsUpdate","Object","assign","tVideo","targets","fragmentShader","vertexShader","opacity","vertexColors","geometry","i","vertex","floor","vertices","push","particles","frustumCulled","add","ready","addEventListener","onDocumentMouseMove","bind","params","Float32Array","i4","speeds","getSpeeds","getSize","getSizeInc","setTextureUniform","random","videoWidth","videoHeight","readyState","HAVE_ENOUGH_DATA","drawImage","simulate","getCurrentFrame","Controls","gui","DatGUI","addShapeControls","addMouseRadiusControls","addMousePushControls","addYThresholdControls","addSpeedControls","addSizeControls","addSizeIncControls","onFinishChange","updateParticleVars","min","max","step","Renderer","alpha","pixelRatio","container","gl","context","enable","BLEND","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","setPixelRatio","setSize","appendChild","getDomElement","onWindowResize","domElement","w","h","renderTarget","force","render","Stats","stats","StatsJS","update","Canvas","background","obj","remove","getParameterByName","name","url","location","href","replace","results","RegExp","exec","decodeURIComponent","StarMap","quality","Number","isNaN","isWebglEnabled","matchMedia","matches","infoContent","querySelector","infoHider","style","display","toLocaleString","showInfoBox","Scene","animate","requestAnimationFrame","id","className","target","rel","App","Boolean","hostname","match","ReactDOM","serviceWorker","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.37edbafd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sHDgwCEMBJZu0AAAAdaVRYdENvbW1lbnQAAAAAAENyZWF0ZWQgd2l0aCBHSU1QZC5lBwAABM5JREFUWMO1V0tPG2cUPZ4Hxh6DazIOrjFNqJs0FIMqWFgWQkatsmvVbtggKlSVRVf5AWz4AWz4AUSKEChll19QJYSXkECuhFxsHjEhxCYm+DWGMZ5HF72DJq4bAzFXurI0M/I5997v3u9cC65vTJVn2lX/xHINQOYSBLTLEuIuCWw4Z3IGAEvf6ASmVHjNzHCXBG4A0AjACsAOwEbO0nsFQBnAGYASAIl+ZRMR7SolMEdsByD09fV5R0ZGgg8ePPjW5/N1iqLYpuu6RZblciKR2I9Go69evnwZnZ+fjwI4IS8AKBIRzeQfJWCANwKwh0KhtrGxsYehUOin1tbW+zzP23ietzY2NnIAoGmaLsuyUiqVyvl8XtrY2NiamZn589mzZxsAUgCOAeQAnFI2tI+VxIjaAeDzoaGh7xYWFuZOTk6OZVk+12uYqqq6JEnn0Wg0OT4+/geAXwGEAdwDIFJQXC1wO4DWR48e/RCPxxclSSroVzRFUbSDg4P848ePFwH8DuAhkWih83TRQWxFOXgAwvDwcOfo6OhvXV1d39tsNtuVBwTDWBwOh1UUxVsMw1hXVlbSdCgNV43uYSvrHg6H24aHh38eHBz85TrgF9FYLHA4HLzH43FvbW2d7u/vG+dANp8FpqIlbd3d3V8Fg8EfBUFw4BONZVmL3+9vHhkZCQL4AoAHgJPK8G+yzC0XDofdoVAo5PP5vkadTBAEtr+/39ff3x8gAp/RPOEqx2qjx+NpvXv3bk9DQ0NDvQgwDIOWlhZrMBj8kgi0UJdxRgYMArzL5XJ7vd57qLPZ7Xamp6fnNgBXtQxcjFuHw+Hyer3t9SYgCAITCAScAJoBNNEY/08GOFVVrfVMv7kMNDntFD1vjIAPrlRN0xjckOm6biFQ3jwNPwDMZrOnqVTqfb3Bi8Wivru7W/VCYkwPlKOjo0IikXh7EwQikYgE4Nw0CfXKDCipVCoTj8df3QABbW1tLUc6oUgkFPMkVACUNjc337148eKvw8PDbJ2jP1taWkoCyNDVXDSECmNSK4qiKNLq6urW8+fPI/UicHx8rD59+jSVy+WOAKSJhKENwFItLtoxk8mwsixzHR0dHe3t7c5PAU+n09rs7OzJkydPYqVSaQfANoDXALIk31S2smU1TWMPDg7K5XKZ7+3t9TudTut1U7+wsFCcmJiIpdPpbQBxADsAknQWymYCOukBHYCuKApisdhpMpnURFEU79y503TVyKenpzOTk5M7e3t7MQKPV0Zv1gNm+awB0MvlshqLxfLb29uyJElWURSbXC4XXyvqxcXFs6mpqeTc3Nzu3t7e3wQcA7BPZ8Cov1pNlJplmQtAG8MwHV6v95tAINA5MDBwPxAIuLu6upr8fr/VAN3c3JQjkcjZ+vp6fnl5+d2bN29SuVzuNYAEpf01CdRChUL+X1VskHACuA3Ay3Fcu9vt7nA6nZ7m5uYWQRCaNE3jVVW15PP580KhIGUymWw2m00DOAJwSP4WwPtq4LX2Ao6USxNlQyS/RcQcdLGwlNIz6vEMAaZpNzCk2Pll94LK/cDYimxERiBwG10sxjgvEZBE0UpE6vxj+0Ct5bTaXthgEhRmja8QWNkkPGsuIpfdjpkK+cZUWTC0KredVmtD/gdlSl6EG4AMvQAAAABJRU5ErkJggg==\"","import React, { Component } from 'react';\nimport * as THREE from 'three';\nimport disc from './disc.png';\nimport './style.css';\n\nclass StarMap extends Component {\n  componentDidMount() {\n    var mouseX = 0, mouseY = 0;\n\n    var windowHalfX = window.innerWidth / 2;\n    var windowHalfY = window.innerHeight / 2;\n\n    let scene = new THREE.Scene();\n    scene.background = new THREE.Color(0,0,0,0);\n    scene.fog = new THREE.FogExp2(0x000000, 0.001);\n    \n    let camera = new THREE.PerspectiveCamera(\n      55,\n      window.innerWidth / window.innerHeight,\n      2,\n      2000\n    );\n    camera.position.z = 1000;\n\n    let canvas = this.mount.domElement;\n    let renderer = new THREE.WebGLRenderer({\n      canvas,\n      alpha: true,\n    });\n    renderer.setClearAlpha(0.0);\n    renderer.setPixelRatio(window.devicePixelRatio);\n    renderer.setSize(window.innerWidth, window.innerHeight);\n    this.mount.appendChild(renderer.domElement);\n\n    var geometry = new THREE.BufferGeometry();\n    var vertices = [];\n\n    var sprite = new THREE.TextureLoader().load(disc);\n\n    for (var i = 0; i < 4000; i++) {\n\n      var x = 2000 * Math.random() - 1000;\n      var y = 2000 * Math.random() - 1000;\n      var z = 1000 * Math.random() - 1000;\n\n      vertices.push(x, y, z);\n\n    }\n\n    geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));\n\n    let material = new THREE.PointsMaterial({ size: 10, sizeAttenuation: true, map: sprite, alphaTest: 0.5, transparent: true });\n    material.color.setRGB(255, 255, 255, 0.25)\n\n    var particles = new THREE.Points(geometry, material);\n    scene.add(particles);\n\n    // VIDEO\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      console.log(\"getUserMedia() not supported.\");\n      return;\n    }\n\n    navigator.mediaDevices\n      .getUserMedia({ audio: false, video: true })\n      .then(function(stream) {\n        var video = document.querySelector(\"video\");\n        if (\"srcObject\" in video) {\n          video.srcObject = stream;\n        } else {\n          video.src = window.URL.createObjectURL(stream);\n        }\n        video.onloadedmetadata = function(e) {\n          video.play();\n        };\n      })\n      .catch(function(err) {\n        console.log(err.name + \": \" + err.message);\n      });\n\n\n    document.addEventListener('mousemove', onDocumentMouseMove, false);\n    document.addEventListener('touchstart', onDocumentTouchStart, false);\n    document.addEventListener('touchmove', onDocumentTouchMove, false);\n\n    //\n\n    window.addEventListener('resize', onWindowResize, false);\n\n\n    function onWindowResize() {\n\n      windowHalfX = 1080 / 2;\n      windowHalfY = 1080 / 2;\n\n      camera.aspect = 1080 / 1080;\n      camera.updateProjectionMatrix();\n\n      renderer.setSize(1080, 1080);\n\n    }\n\n    function onDocumentMouseMove(event) {\n\n      mouseX = event.clientX - windowHalfX;\n      mouseY = event.clientY - windowHalfY;\n\n    }\n\n    function onDocumentTouchStart(event) {\n      if (event.touches.length == 1) {\n\n        event.preventDefault();\n\n        mouseX = event.touches[0].pageX - windowHalfX;\n        mouseY = event.touches[0].pageY - windowHalfY;\n\n      }\n    }\n\n    function onDocumentTouchMove(event) {\n      if (event.touches.length == 1) {\n\n        event.preventDefault();\n\n        mouseX = event.touches[0].pageX - windowHalfX;\n        mouseY = event.touches[0].pageY - windowHalfY;\n\n      }\n    }\n\n    //\n    function animate() {\n      requestAnimationFrame(animate);\n      render();\n    }\n\n    function render() {\n\n      var time = Date.now() * 0.00005;\n\n      camera.position.x += (mouseX - camera.position.x) * 0.05;\n      camera.position.y += (- mouseY - camera.position.y) * 0.05;\n\n      camera.lookAt(scene.position);\n\n      var h = (360 * (1.0 + time) % 360) / 360;\n\n      renderer.render(scene, camera);\n    }\n\n    animate();\n  }\n  render() {\n    return (\n      <div className=\"da-cont\">\n        <div ref={ref => (this.mount = ref)} />\n        <video id=\"video\" autoPlay />\n      </div>\n    );\n  }\n}\n export default StarMap;\n","import React, { Component } from 'react';\nimport * as THREE from 'three';\n\nclass Webcam extends Component {\n  componentDidMount() {\n\n    if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n      console.log(\"getUserMedia() not supported.\");\n      return;\n    }\n\n    navigator.mediaDevices.getUserMedia({ audio: false, video: true })\n      .then(function (stream) {\n        var video = document.querySelector('video');\n        if (\"srcObject\" in video) {\n          video.srcObject = stream;\n        } else {\n          video.src = window.URL.createObjectURL(stream);\n        }\n        video.onloadedmetadata = function (e) {\n          video.play();\n        };\n      })\n      .catch(function (err) {\n        console.log(err.name + \": \" + err.message);\n      });\n\n  }\n  render() {\n    return <video id=\"video\" autoPlay style={{width: '100%'}} />;\n  }\n}\nexport default Webcam;\n","import * as THREE from 'three';\n\nexport default class Camera {\n  constructor ({\n    fov = 45,\n    aspectRatio = window.innerHeight / window.innerWidth,\n    near = 0.01,\n    far = 500,\n    position = {\n      x: 0, y: 0, z: 0\n    },\n    up = [0, 0, 1]\n  }) {\n    this.camera = new THREE.PerspectiveCamera(fov, aspectRatio, near, far)\n\n    this.setPosition(position)\n    this.setLookAt()\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n    this.camera.aspect = WIDTH / HEIGHT\n    this.camera.updateProjectionMatrix()\n  }\n\n  setUp (x, y, z) {\n    this.camera.up.set(x, y, z)\n  }\n\n  setPosition ({\n    x = this.camera.position.x,\n    y = this.camera.position.y,\n    z = this.camera.position.z\n  }) {\n    this.setX(x)\n    this.setY(y)\n    this.setZ(z)\n  }\n\n  setX (x) {\n    this.camera.position.x = x\n  }\n\n  setY (y) {\n    this.camera.position.y = y\n  }\n\n  setZ (z) {\n    this.camera.position.z = z\n  }\n\n  setLookAt () {\n    this.camera.lookAt(new THREE.Vector3(0, 0, 0))\n  }\n\n  update () {\n  }\n\n  get () {\n    return this.camera\n  }\n}\n","import FBO from 'three.js-fbo'\nimport * as THREE from 'three';\n\nimport { simulationVertexShader, simulationFragmentShader } from '../shaders/simulationShaders'\nimport { vertexShader, fragmentShader } from '../shaders/shaders'\n\nexport const SHAPES = {\n  CIRCLE: 'CIRCLE',\n  SQUARE: 'SQUARE'\n}\n\nexport default class Particles {\n  constructor ({\n    scene,\n    numParticles = 10000,\n    uniforms = {\n      sizeMultipler: { value: (window.innerHeight * window.devicePixelRatio) / 2 },\n      color: { value: new THREE.Color(\"rgb(0, 0, 0)\") }\n    },\n    blending = THREE.AdditiveBlending,\n    transparent = true,\n    depthTest = true,\n    depthWrite = false,\n\n    renderer,\n\n    mouseRadius = 0.05,\n    mousePush = 0.0002,\n\n    particleSize = 0.06,\n    particleSizeInc = 0.0001,\n    particleShape = SHAPES.CIRCLE,\n    xSpeed = 0.00003,\n    ySpeed = 0.0001,\n    yThreshold = 0.1\n  }) {\n    this.scene = scene\n    this.numParticles = numParticles\n    this.renderer = renderer\n    this.uniforms = uniforms\n\n    this.mouseRadius = mouseRadius\n    this.mousePush = mousePush\n    this.particleSize = particleSize\n    this.particleSizeInc = particleSizeInc\n    this.particleShape = particleShape\n    this.xSpeed = xSpeed\n    this.ySpeed = ySpeed\n    this.yThreshold = yThreshold\n\n    this.windowHalfX = window.innerWidth / 2\n    this.windowHalfY = window.innerHeight / 2\n\n    this.video = document.createElement('video')\n\n    if (navigator.getUserMedia) {\n      navigator.getUserMedia({ video: { width: 1280, height: 720 } }, stream => {\n        const video = this.video\n        video.srcObject = stream\n        video.width = 480\n        video.height = 480\n        video.autoplay = true\n\n        this.addParticles()\n      }, err => console.error('video failed to load', err))\n    } else {\n      const info = document.getElementById('info')\n      info.innerHTML = 'Requires use of webcam. Please use the latest version of Chrome.'\n    }\n  }\n\n  updateParticleVars () {\n    this.FBO.simulationShader.uniforms.mouseRadius.value = this.mouseRadius\n    this.FBO.simulationShader.uniforms.mousePush.value = this.mousePush\n    this.FBO.simulationShader.uniforms.yThreshold.value = this.yThreshold\n    this.material.uniforms.isCircle.value = this.particleShape === SHAPES.CIRCLE\n  }\n\n  onDocumentMouseMove (event) {\n    this.mouseX = this.windowHalfX - event.clientX\n    this.mouseY = event.clientY - this.windowHalfY\n\n    this.FBO.simulationShader.uniforms.mouse.value.set(0.5 * this.mouseX / this.windowHalfX, -0.5 * this.mouseY / this.windowHalfY, 0)\n  }\n\n  addParticles () {\n    const video = this.video\n    const renderer = this.renderer\n    const numParticles = 20000\n    const IMAGE_RATIO = video.width / video.height\n    const COL_RATIO = IMAGE_RATIO > 1 ? IMAGE_RATIO : 1\n    const ROW_RATIO = IMAGE_RATIO > 1 ? 1 : video.height / video.width\n\n    let cols = COL_RATIO\n    let rows = ROW_RATIO\n\n    while (cols * rows < numParticles - (COL_RATIO * ROW_RATIO)) {\n      cols += COL_RATIO\n      rows += ROW_RATIO\n    }\n\n    const tWidth = Math.ceil(cols)\n    const tHeight = Math.ceil(rows)\n    this.numParticles = tWidth * tHeight\n\n    this.FBO = new FBO({\n      tWidth,\n      tHeight,\n      renderer: renderer.get(),\n      uniforms: {\n        tWidth: { type: 'f', value: tWidth },\n        tHeight: { type: 'f', value: tHeight },\n        mouse: { value: new THREE.Vector3(10000, 10000, 10000) },\n\n        tParams: { type: 't', value: 0 },\n        mouseRadius: { type: 'f', value: this.mouseRadius },\n        mousePush: { type: 'f', value: this.mousePush },\n        yThreshold: { type: 'f', value: this.yThreshold }\n      },\n      simulationVertexShader,\n      simulationFragmentShader\n    })\n\n    this.updateParticleParams()\n\n    const videoImage = this.videoImage = document.createElement('canvas')\n    this.videoImageContext = videoImage.getContext('2d')\n\n    const videoTexture = this.videoTexture = new THREE.Texture(videoImage)\n    videoTexture.minFilter = videoTexture.magFilter = THREE.NearestFilter\n    videoTexture.needsUpdate = true\n\n    const material = (this.material = new THREE.ShaderMaterial({\n      blending: THREE.NormalBlending,\n      uniforms: Object.assign({}, this.uniforms, {\n        isCircle: { type: \"b\", value: this.particleShape === SHAPES.CIRCLE },\n        tVideo: { type: \"t\", value: videoTexture },\n        tParams: { type: \"t\", value: this.FBO.targets[0] }\n      }),\n      fragmentShader,\n      vertexShader,\n      opacity: 1,\n      vertexColors: true,\n      transparent: true,\n    }));\n\n    const geometry = this.geometry = new THREE.Geometry()\n\n    for (let i = 0; i < this.numParticles; i++) {\n      const vertex = new THREE.Vector3()\n      vertex.x = (i % tWidth) / tWidth\n      vertex.y = Math.floor(i / tWidth) / tHeight\n      vertex.z = i * 1000 \n      geometry.vertices.push(vertex)\n    }\n\n    this.particles = new THREE.Points(geometry, material)\n    this.particles.frustumCulled = false\n\n    this.scene.add(this.get())\n\n    this.ready = true\n    document.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false)\n  }\n\n  updateParticleParams () {\n    const params = new Float32Array(this.numParticles * 4)\n\n    for (let i = 0, i4 = 0; i < this.numParticles; i++, i4 += 4) {\n      const speeds = this.getSpeeds()\n\n      params[i4] = speeds.x\n      params[i4 + 1] = speeds.y\n      params[i4 + 2] = this.getSize()\n      params[i4 + 3] = this.getSizeInc()\n    }\n\n    this.FBO.setTextureUniform('tParams', params)\n  }\n\n  getSpeeds () {\n    return {\n      x: this.xSpeed * Math.random(),\n      y: this.ySpeed * (Math.random() / 2 + 0.5)\n    }\n  }\n\n  getSize () {\n    return this.particleSize * Math.random() / 2\n  }\n\n  getSizeInc () {\n    return this.particleSizeInc * Math.random() * 2\n  }\n\n  update () {\n    if (this.ready) {\n      // update video texture with webcam feed\n      const { video, videoImageContext, videoImage: { width: videoWidth, height: videoHeight }, videoTexture } = this\n      if (video.readyState === video.HAVE_ENOUGH_DATA) {\n        videoImageContext.drawImage(video, 0, 0, videoWidth, videoHeight)\n\n        videoTexture.needsUpdate = true\n      }\n\n      this.FBO.simulate()\n      this.material.uniforms.tParams.value = this.FBO.getCurrentFrame()\n    }\n  }\n\n  get () {\n    return this.particles\n  }\n}\n","/* eslint-disable */\n\nconst simulationVertexShader = `\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t  vUv = vec2(uv);\n\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n\t}\n`\n\nconst simulationFragmentShader = `\n\t/** generates a random number between 0 and 1 **/\n\thighp float rand(vec2 co)\n\t{\n\t\thighp float a = 12.9898;\n\t\thighp float b = 78.233;\n\t\thighp float c = 43758.5453;\n\t\thighp float dt= dot(co.xy ,vec2(a,b));\n\t\thighp float sn= mod(dt,3.14);\n\t\treturn fract(sin(sn) * c);\n\t}\n\n\tvarying vec2 vUv;\n\n\tuniform sampler2D tPrev;\n\tuniform sampler2D tCurr;\n\n\tuniform vec3 mouse;\n\tuniform sampler2D tParams;\n\tuniform float yThreshold;\n\tuniform float mouseRadius;\n\tuniform float mousePush;\n\n\tuniform float tWidth;\n\tuniform float tHeight;\n\n\tvec3 getPos(vec3 defaultPos) {\n\t\tvec3 deacceleration = vec3(1.1);\n\t\tvec3 prevPos = texture2D(tPrev, vUv).xyz;\n\t\tvec3 currPos = texture2D(tCurr, vUv).xyz;\n\t\tvec3 velocity = currPos == defaultPos ? vec3(0.0) : (currPos - prevPos) / deacceleration;\n\t\tvec3 pos = currPos;\n\t\tfloat distanceToMouse = length(pos - mouse);\n\n\t\tif (distanceToMouse < mouseRadius) {\n\t\t\tvelocity += (normalize(pos - mouse) * mousePush);\n\t\t}\n\n\t\tfloat xSpeed = texture2D(tParams, vUv).x;\n\t\tfloat ySpeed = texture2D(tParams, vUv).y;\n\t\tvelocity.y += ySpeed;\n\t\tvelocity.x += rand(vec2(defaultPos.x, defaultPos.y)) > 0.5 ? xSpeed : -xSpeed;\n\n\t\tif (pos == vec3(0.0) || pos.y > yThreshold + defaultPos.y) {\n\t\t\tpos = defaultPos;\n\t\t} else {\n\t\t\tpos += velocity;\n\t\t}\n\n\t\treturn pos;\n\t}\n\n\tfloat getSize(vec3 defaultPos, vec3 pos) {\n\t\tfloat defaultSize = texture2D(tParams, vUv).z;\n\t\tfloat incSize = texture2D(tParams, vUv).a;\n\t\tfloat currSize = texture2D(tCurr, vUv).a;\n\n\t\tcurrSize += currSize > defaultSize + (incSize * 60.0) ? 0.0 : incSize;\n\n\t\tif (pos.y == defaultPos.y) {\n\t\t\tcurrSize = defaultSize;\n\t\t}\n\n\t\treturn currSize;\n\t}\n\n\tvoid main() {\n\t\tvec3 defaultPos = vec3((vUv.x * 1.0) - 0.5, (vUv.y * 1.0) - 0.5, 0.0);\n\n\t\tvec3 pos = getPos(defaultPos);\n\t\tfloat size = getSize(defaultPos, pos);\n\n\t\t// write new position out\n\t\tgl_FragColor = vec4(pos, size);\n\t}\n`\n\nexport {\n  simulationFragmentShader,\n  simulationVertexShader\n}\n","/* eslint-disable */\n\nconst fragmentShader = `\n\tuniform sampler2D tVideo;\n\tuniform bool isCircle;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvec3 colors = texture2D(tVideo, vUv).rgb;\n\n\t\tgl_FragColor = vec4(colors, 1.0);\n\n\t\tif (isCircle) {\n\t\t\tif (length(gl_PointCoord - vec2(0.5, 0.5)) > 0.475) discard; // makes particles a circle\n\t\t}\n\t}\n`\n\nconst vertexShader = `\n\tuniform sampler2D tParams;\n\tuniform float sizeMultipler;\n\n\tvarying vec2 vUv;\n\n\tvoid main() {\n\t\tvUv = position.xy;\n\n\t\tvec3 pos = texture2D(tParams, vUv).xyz;\n\t\tfloat size = texture2D(tParams, vUv).a;\n\n\t\tvec4 mvPosition = modelViewMatrix * vec4(pos, 1.0);\n\t\tgl_PointSize = size * (sizeMultipler / -mvPosition.z);\n\t\tgl_Position = projectionMatrix * mvPosition;\n\t}\n`\n\nexport {\n  fragmentShader,\n  vertexShader\n}\n","import * as DatGUI from \"dat.gui\";\n\nimport { SHAPES } from '../objects/particles'\n\nexport default class Controls {\n  constructor ({\n    particles,\n    scene\n  } = {}) {\n    this.gui = new DatGUI.GUI()\n\n    this.addShapeControls(particles)\n    this.addMouseRadiusControls(particles)\n    this.addMousePushControls(particles)\n    this.addYThresholdControls(particles)\n    this.addSpeedControls(particles)\n    this.addSizeControls(particles)\n    this.addSizeIncControls(particles)\n  }\n\n  addShapeControls (particles) {\n    this.gui.add(particles, 'particleShape', SHAPES)\n      .onFinishChange(() => {\n        particles.updateParticleVars()\n      })\n  }\n\n  addYThresholdControls (particles) {\n    this.gui.add(particles, 'yThreshold')\n      .min(0)\n      .max(1)\n      .step(0.005)\n      .onFinishChange(() => {\n        particles.updateParticleVars()\n      })\n  }\n\n  addMouseRadiusControls (particles) {\n    this.gui.add(particles, 'mouseRadius')\n      .min(0)\n      .max(0.5)\n      .step(0.005)\n      .onFinishChange(() => {\n        particles.updateParticleVars()\n      })\n  }\n\n  addMousePushControls (particles) {\n    this.gui.add(particles, 'mousePush')\n      .min(0)\n      .max(0.001)\n      .step(0.000005)\n      .onFinishChange(() => {\n        particles.updateParticleVars()\n      })\n  }\n\n  addSpeedControls (particles) {\n    this.gui.add(particles, 'xSpeed')\n      .min(0)\n      .max(0.0005)\n      .step(0.000001)\n      .onFinishChange(() => {\n        particles.updateParticleParams()\n      })\n\n    this.gui.add(particles, 'ySpeed')\n      .min(0)\n      .max(0.0005)\n      .step(0.000001)\n      .onFinishChange(() => {\n        particles.updateParticleParams()\n      })\n  }\n\n  addSizeControls (particles) {\n    this.gui.add(particles, 'particleSize')\n      .min(0)\n      .max(0.5)\n      .step(0.005)\n      .onFinishChange(() => {\n        particles.updateParticleParams()\n      })\n  }\n\n  addSizeIncControls (particles) {\n    this.gui.add(particles, 'particleSizeInc')\n      .min(0)\n      .max(0.0005)\n      .step(0.00002)\n      .onFinishChange(() => {\n        particles.updateParticleParams()\n      })\n  }\n}\n","import * as THREE from 'three';\n\nexport default class Renderer {\n  constructor ({\n    alpha = true,\n    pixelRatio = window.devicePixelRatio,\n    width = window.width,\n    height = window.height,\n    container\n  }) {\n    this.renderer = new THREE.WebGLRenderer({ alpha })\n    const gl = this.renderer.context\n    gl.enable(gl.BLEND)\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA)\n\n    this.setPixelRatio(pixelRatio)\n\n    this.setSize(width, height)\n\n    container.appendChild(this.getDomElement())\n    window.addEventListener('resize', this.onWindowResize.bind(this))\n  }\n\n  getDomElement (container) {\n    return this.renderer.domElement\n  }\n\n  onWindowResize () {\n    const WIDTH = window.innerWidth\n    const HEIGHT = window.innerHeight\n\n    this.renderer.setSize(WIDTH, HEIGHT)\n  }\n\n  setPixelRatio (pixelRatio) {\n    this.renderer.setPixelRatio(pixelRatio)\n  }\n\n  setSize (w, h) {\n    this.renderer.setSize(w, h)\n  }\n\n  render ({\n    scene,\n    camera,\n    renderTarget = null,\n    force = false\n  } = {}) {\n    this.renderer.render(scene, camera, renderTarget, force)\n  }\n\n  get () {\n    return this.renderer\n  }\n}\n","import StatsJS from 'stats.js'\n\nexport default class Stats {\n  constructor () {\n    this.stats = new StatsJS()\n  }\n\n  getDomElement (container) {\n    return this.stats.domElement\n  }\n\n  update () {\n    this.stats.update()\n  }\n}\n","import * as THREE from 'three';\n\nexport default class Canvas {\n  constructor () {\n    this.scene = new THREE.Scene()\n    this.scene.background = new THREE.Color(0x111111);\n  }\n\n  add (obj) {\n    this.scene.add(obj)\n  }\n\n  remove (obj) {\n    this.scene.remove(obj)\n  }\n\n  get () {\n    return this.scene\n  }\n}\n","const getParameterByName = (name, url) => {\n  if (!url) {\n    url = window.location.href\n  }\n\n  name = name.replace(/[[\\]]/g, '\\\\$&')\n  const regex = new RegExp(`[?&]${name}(=([^&#]*)|&|#|$)`)\n  const results = regex.exec(url)\n\n  if (!results) return null\n  if (!results[2]) return ''\n\n  return decodeURIComponent(results[2].replace(/\\+/g, ' '))\n}\n\nexport default getParameterByName\n","import React, { Component } from 'react';\nimport * as THREE from 'three';\nimport disc from './disc.png';\nimport isWebglEnabled from 'detector-webgl'\nimport Camera from './io/camera'\nimport Controls from './io/controls'\nimport Renderer from './io/renderer'\nimport Stats from './io/stats'\nimport Scene from './objects/scene'\nimport Particles from './objects/particles'\n\nimport getParameterByName from './helpers/getParameterByName'\nimport showInfoBox from './helpers/showInfoBox'\nimport isNotMobileScreen from './helpers/isNotMobileScreen'\n\nclass StarMap extends Component {\n  componentDidMount() {\n    const quality = Number(getParameterByName('quality'))\n\n    if (!quality || isNaN(quality)) {\n      document.getElementById('select-quality').style.display = 'block'\n      return\n    }\n\n    if (isWebglEnabled && isNotMobileScreen()) {\n      showInfoBox()\n\n      const WIDTH = window.innerWidth\n      const HEIGHT = window.innerHeight\n      const aspectRatio = 1\n\n      const container = document.getElementById('simulation')\n\n      const renderer = new Renderer({\n        width: WIDTH,\n        height: HEIGHT,\n        container\n      })\n\n      const scene = new Scene()\n\n      const camera = new Camera({\n        aspectRatio,\n        position: {\n          x: 1,\n          y: 0,\n          z: -1\n        }\n      })\n\n      const stats = new Stats()\n\n      const particles = new Particles({\n        numParticles: quality,\n        scene,\n        renderer\n      })\n\n      const init = () => {\n        new Controls({ particles }) // eslint-disable-line\n        container.appendChild(stats.getDomElement())\n      }\n\n      const animate = () => {\n        requestAnimationFrame(animate) // eslint-disable-line\n        render()\n      }\n\n      const render = () => {\n        camera.update()\n        stats.update()\n\n        particles.update()\n\n        renderer.render({\n          scene: scene.get(),\n          camera: camera.get()\n        })\n      }\n\n      init()\n      animate()\n    } else {\n      document.getElementById('no-support').style.display = 'block'\n    }\n  }\n  render() {\n    return (\n      <div>\n        {/* <div ref={ref => (this.mount = ref)} /> */}\n        <div id=\"container\">\n          <div id=\"simulation\"></div>\n          <div id=\"select-quality\">\n            <h4>Select Quality</h4>\n            <a className=\"quality-selector\" href=\"?quality=35000\">Very Low</a>\n            <a className=\"quality-selector\" href=\"?quality=60000\">Low</a>\n            <a className=\"quality-selector\" href=\"?quality=80000\">Medium</a>\n            <a className=\"quality-selector\" href=\"?quality=120000\">High</a>\n            <a className=\"quality-selector\" href=\"?quality=170000\">Very High</a>\n          </div>\n          <div id=\"no-support\">\n            <h4>Your device or browser is not supported. Please use the latest version of Chrome on desktop.</h4>\n          </div> \n          <div id=\"info\">\n            <a className=\"hide-info-button\">Close</a>\n            <div className=\"info-content\">\n              Number of particles: <span className=\"num-particles\">0</span><br />\n              By <a target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://www.tuqire.com\">Tuqire Hussain</a>\n              [<a target=\"_blank\" rel=\"noopener noreferrer\" href=\"https://github.com/tuqire/webcam-particles\">View Code</a>]<br />\n              Select Quality:\n              <a href=\"?quality=35000\">V Low</a> |\n              <a href=\"?quality=60000\">Low</a> |\n              <a href=\"?quality=80000\">Medium</a> |\n              <a href=\"?quality=120000\">High</a> |\n              <a href=\"?quality=170000\">V High</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default StarMap;\n","export default () => window.matchMedia('(min-width: 480px)').matches\n","import getParameterByName from './getParameterByName'\n\nexport default () => {\n  const infoContent = document.querySelector('.info-content')\n  const infoHider = document.querySelector('.hide-info-button')\n  const quality = Number(getParameterByName('quality'))\n\n  document.getElementById('info').style.display = 'inline'\n  document.querySelector('.num-particles').innerHTML = quality.toLocaleString()\n\n  infoHider.addEventListener('click', () => {\n    if (infoHider.innerHTML === 'Close') {\n      infoHider.innerHTML = 'Open Info'\n      infoContent.style.display = 'none'\n    } else {\n      infoHider.innerHTML = 'Close'\n      infoContent.style.display = 'block'\n    }\n  })\n}\n","import React, { Component } from \"react\";\nimport * as THREE from \"three\";\nimport './base.css';\n\nclass Visualizer extends Component {\n  componentDidMount() {\n    let scene, renderer, camera, clock, width, height, video;\n    let particles, videoWidth, videoHeight, imageCache;\n\n    const canvas = document.createElement(\"canvas\");\n    const ctx = canvas.getContext(\"2d\");\n\n    const classNameForLoading = \"loading\";\n\n    // audio\n    let audio, analyser;\n    const fftSize = 2048; // https://developer.mozilla.org/en-US/docs/Web/API/AnalyserNode/fftSize\n    const frequencyRange = {\n      bass: [20, 140],\n      lowMid: [140, 400],\n      mid: [400, 2600],\n      highMid: [2600, 5200],\n      treble: [5200, 14000]\n    };\n\n    const init = () => {\n      document.body.classList.add(classNameForLoading);\n\n      scene = new THREE.Scene();\n      scene.background = new THREE.Color(0x111111);\n\n      renderer = new THREE.WebGLRenderer();\n      document.getElementById(\"content\").appendChild(renderer.domElement);\n\n      clock = new THREE.Clock();\n\n      initCamera();\n\n      onResize();\n\n      let navClone = navigator.mediaDevices;\n      navClone.mediaDevices =\n        navigator.mediaDevices ||\n        (navigator.mozGetUserMedia || navigator.webkitGetUserMedia\n          ? {\n              getUserMedia: c => {\n                return new Promise(function(y, n) {\n                  (\n                    navigator.mozGetUserMedia ||\n                    navigator.webkitGetUserMedia\n                  ).call(navigator, c, y, n);\n                });\n              }\n            }\n          : null);\n\n      if (navigator.mediaDevices) {\n        initAudio();\n        initVideo();\n      } else {\n        showAlert();\n      }\n\n      draw();\n    };\n\n    const initCamera = () => {\n      const fov = 45;\n      const aspect = width / height;\n\n      camera = new THREE.PerspectiveCamera(fov, aspect, 0.1, 10000);\n      const z = Math.min(window.innerWidth, window.innerHeight);\n      camera.position.set(0, 0, z);\n      camera.lookAt(0, 0, 0);\n\n      scene.add(camera);\n    };\n\n    const initVideo = () => {\n      video = document.getElementById(\"video\");\n      video.autoplay = true;\n\n      const option = {\n        video: true,\n        audio: false\n      };\n      navigator.mediaDevices\n        .getUserMedia(option)\n        .then(stream => {\n          video.srcObject = stream;\n          video.addEventListener(\"loadeddata\", () => {\n            videoWidth = video.videoWidth;\n            videoHeight = video.videoHeight;\n\n            createParticles();\n          });\n        })\n        .catch(error => {\n          console.log(error);\n          showAlert();\n        });\n    };\n\n    const initAudio = () => {\n      const audioListener = new THREE.AudioListener();\n      audio = new THREE.Audio(audioListener);\n\n      const audioLoader = new THREE.AudioLoader();\n\n      audioLoader.load(\"./asset/232941_New.MP3\", (buffer) => {\n        document.body.classList.remove(classNameForLoading);\n        audio.setBuffer(buffer);\n        audio.setLoop(true);\n        audio.setVolume(0.5);\n        audio.play();\n      });\n\n      analyser = new THREE.AudioAnalyser(audio, fftSize);\n\n      document.body.addEventListener(\"click\", function() {\n        if (audio) {\n          if (audio.isPlaying) {\n            audio.pause();\n          } else {\n            audio.play();\n          }\n        }\n      });\n    };\n\n    const createParticles = () => {\n      const imageData = getImageData(video);\n      const geometry = new THREE.Geometry();\n      geometry.morphAttributes = {}; // This is necessary to avoid error.\n      const material = new THREE.PointsMaterial({\n        size: 1,\n        color: 0xff3b6c,\n        sizeAttenuation: false\n      });\n\n      for (let y = 0, height = imageData.height; y < height; y += 1) {\n        for (let x = 0, width = imageData.width; x < width; x += 1) {\n          const vertex = new THREE.Vector3(\n            x - imageData.width / 2,\n            -y + imageData.height / 2,\n            0\n          );\n          geometry.vertices.push(vertex);\n        }\n      }\n\n      particles = new THREE.Points(geometry, material);\n      scene.add(particles);\n    };\n\n    const getImageData = (image, useCache) => {\n      if (useCache && imageCache) {\n        return imageCache;\n      }\n\n      const w = image.videoWidth;\n      const h = image.videoHeight;\n\n      canvas.width = w;\n      canvas.height = h;\n\n      ctx.translate(w, 0);\n      ctx.scale(-1, 1);\n\n      ctx.drawImage(image, 0, 0);\n      imageCache = ctx.getImageData(0, 0, w, h);\n\n      return imageCache;\n    };\n\n    /**\n     * https://github.com/processing/p5.js-sound/blob/v0.14/lib/p5.sound.js#L1765\n     *\n     * @param data\n     * @param _frequencyRange\n     * @returns {number} 0.0 ~ 1.0\n     */\n    const getFrequencyRangeValue = (data, _frequencyRange) => {\n      const nyquist = 48000 / 2;\n      const lowIndex = Math.round((_frequencyRange[0] / nyquist) * data.length);\n      const highIndex = Math.round((_frequencyRange[1] / nyquist) * data.length);\n      let total = 0;\n      let numFrequencies = 0;\n\n      for (let i = lowIndex; i <= highIndex; i++) {\n        total += data[i];\n        numFrequencies += 1;\n      }\n      return total / numFrequencies / 255;\n    };\n\n    const draw = t => {\n      clock.getDelta();\n      const time = clock.elapsedTime;\n\n      let r, g, b;\n\n      // audio\n      if (analyser) {\n        // analyser.getFrequencyData() would be an array with a size of half of fftSize.\n        const data = analyser.getFrequencyData();\n\n        const bass = getFrequencyRangeValue(data, frequencyRange.bass);\n        const mid = getFrequencyRangeValue(data, frequencyRange.mid);\n        const treble = getFrequencyRangeValue(data, frequencyRange.treble);\n\n        r = bass;\n        g = mid;\n        b = treble;\n      }\n\n      // video\n      if (particles) {\n        particles.material.color.r = 1 - r;\n        particles.material.color.g = 1 - g;\n        particles.material.color.b = 1 - b;\n\n        const density = 2;\n        const useCache = parseInt(t) % 2 === 0; // To reduce CPU usage.\n        const imageData = getImageData(video, useCache);\n        for (\n          let i = 0, length = particles.geometry.vertices.length;\n          i < length;\n          i++\n        ) {\n          const particle = particles.geometry.vertices[i];\n          if (i % density !== 0) {\n            particle.z = 10000;\n            continue;\n          }\n          let index = i * 4;\n          let gray =\n            (imageData.data[index] +\n              imageData.data[index + 1] +\n              imageData.data[index + 2]) /\n            3;\n          let threshold = 300;\n          if (gray < threshold) {\n            if (gray < threshold / 3) {\n              particle.z = gray * r * 5;\n            } else if (gray < threshold / 2) {\n              particle.z = gray * g * 5;\n            } else {\n              particle.z = gray * b * 5;\n            }\n          } else {\n            particle.z = 10000;\n          }\n        }\n        particles.geometry.verticesNeedUpdate = true;\n      }\n\n      renderer.render(scene, camera);\n\n      requestAnimationFrame(draw);\n    };\n\n    const showAlert = () => {\n      document.getElementById(\"message\").classList.remove(\"hidden\");\n    };\n\n    const onResize = () => {\n      width = window.innerWidth;\n      height = window.innerHeight;\n\n      renderer.setPixelRatio(window.devicePixelRatio);\n      renderer.setSize(width, height);\n\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n    };\n\n    window.addEventListener(\"resize\", onResize);\n\n    init();\n  }\n  render() {\n    return (\n      <div className=\"demo-1 cda-noimg cda-naked cda-alignright\">\n        {/* <div ref={ref => (this.mount = ref)} /> */}\n        <div>\n          <div className=\"frame\">\n            <div className=\"frame__title-wrap\">\n              <h1 className=\"frame__title\">Webcam Audio Visualizer</h1>\n              <span className=\"frame__info\">Click to stop/start</span>\n            </div>\n          </div>\n          <div id=\"content\" className=\"content\">\n            <video id=\"video\" className=\"hidden\"></video>\n            <div id=\"message\" className=\"hidden\">\n              Please allow camera access.\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default Visualizer;\n","import React from 'react';\nimport './App.css';\nimport StarMap from './components/InteractiveParticles/StarMap';\nimport Webcam from './components/Webcam/Webcam';\nimport InteractiveParticles from './components/InteractiveParticles/IntParts';\nimport Visualizer from './components/Visualizer/Visualizer';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"App-container\">\n        <InteractiveParticles />\n        {/* <StarMap /> */}\n        {/* <Webcam /> */}\n        {/* <Visualizer /> */}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}